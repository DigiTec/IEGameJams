<!DOCTYPE HTML>
<html>
    <head>
        <title></title>
        <script>
        var vertexBuffer;
        var gl;

        function init() {
            var canvas = document.getElementById("chart1");
            initGL(canvas);
            initShaders(gl);
            linkShaders(gl);
        }

        function initGL(canvas) {
            gl = canavs.getContext("experimental-webgl");
            gl.viewportWidth = canvas.width;
            gl.viewportHeight = canvas.height;
            gl.vertexShaders = {};
            gl.fragmentShaders = {};
            gl.shaderPrograms = {};
        }

        function initShaders(gl) {
            var shaderColl = document.getElementsByTagName("script");
            for (var i in shaderColl) {
                var shaderScript = shaderColl[i];
                var shader;
                switch (shaderScript.type) {
                    case "x-shader/x-fragment":
                        shader = gl.createShader(gl.FRAGMENT_SHADER);
                        gl.fragmentShaders[shaderScript.id] = shader;
                        break;
                    case "x-shader/x-vertext":
                        shader = gl.createShader(gl.VERTEX_SHADER);
                        gl.vertexShaders[shaderScript.id] = shader;
                        break;
                }

                if (shader) {
                    gl.shaderSource(shader, shaderScript.textContent);
                    gl.compileShader(shader);
                }
            }
        }

        function linkShaders(gl) {
            var programs = [
                { id: "barGraph", vert: "gradient", frag: "color",
                  attrs: [ "position" ]
                }
            ];

            for (var i in programs) {
                var programDefinition = programs[i];
                var shaderProgram = gl.createProgram();

                // Compile the program
                gl.attachShader(shaderProgram, gl.vertexShaders[programDefinition.vert]);
                gl.attachShader(shaderProgram, gl.fragmentShaders[programDefinition.frag]);
                gl.linkProgram(shaderProgram);

                // Attach the attributes
                for (var i in programDefinition.attrs) {
                    var attrName = programDefinition.attrs[i];
                    shaderProgram[attrName] = gl.getAttribLocation(shaderProgram, attrName);
                }

                gl.shaderPrograms[programDefinition.id] = shaderProgram;
            }
        }

        function render() {
            beginDraw(gl);
            chart1.render(gl);
            endDraw(gl);
        }

        function beginDraw(gl) {
            gl.viewport(0, 0, gl.viewportWidth, gl.viewportHeight);
            gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);
        }

        function endDraw(gl) {
        }

        function Chart() {
            this.nameVertAttr
        }
        Object.defineProperties(Chart.prototype, {
            initGL: {
                value: function initGL(gl, shader, ) {
                    this.shader = shader;
                    this.vertexBuffer = gl.createBuffer();
                    gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);
                    gl.bufferData(gl.ARRAY_BUFFER, quadArray, gl.STATIC_DRAW);

                }
            },
            setVertexAttribute: {
                value: function setVertexAttribute(attr) {
                }
            },
            setColorAttribute: {
                value: function setColorAttribute(attr) {
                }
            },
        });
        </script>
    </head>
    <body>
    </body>
</html>